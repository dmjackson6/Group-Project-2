<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Smart Matching Interface - WasteNaut</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./Resources/Styles/main.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom">
      <div class="container">
        <a class="navbar-brand fw-bold" href="index.html">
          <i class="bi bi-rocket-takeoff me-2"></i>WasteNaut
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="dashboard.html">Mission Control</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="inventory-management.html">Inventory</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="communication-hub.html">Communication Hub</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container py-4">
      <!-- Header -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="d-flex align-items-center mb-3">
            <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px;">
              <i class="bi bi-diagram-3 text-white fs-5"></i>
            </div>
            <div>
              <h1 class="h3 mb-1 text-gradient">Smart Matching Interface</h1>
              <p class="text-muted mb-0">AI-powered resource optimization and matching</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Matching Filters -->
      <div class="card border-0 bg-dark mb-4">
        <div class="card-header bg-dark border-bottom">
          <h5 class="mb-0">
            <i class="bi bi-funnel me-2"></i>Matching Parameters
          </h5>
        </div>
        <div class="card-body">
          <div class="row g-3">
            <div class="col-md-3">
              <label for="categoryFilter" class="form-label">Category</label>
              <select class="form-select" id="categoryFilter">
                <option value="">All Categories</option>
                <option value="perishable">Perishable</option>
                <option value="non-perishable">Non-Perishable</option>
                <option value="frozen">Frozen</option>
                <option value="dairy">Dairy</option>
              </select>
            </div>
            <div class="col-md-3">
              <label for="distanceFilter" class="form-label">Distance (miles)</label>
              <select class="form-select" id="distanceFilter">
                <option value="5">5 miles</option>
                <option value="10" selected>10 miles</option>
                <option value="15">15 miles</option>
                <option value="25">25 miles</option>
              </select>
            </div>
            <div class="col-md-3">
              <label for="urgencyFilter" class="form-label">Urgency</label>
              <select class="form-select" id="urgencyFilter">
                <option value="">All</option>
                <option value="high">High (Expiring Soon)</option>
                <option value="medium">Medium</option>
                <option value="low">Low</option>
              </select>
            </div>
            <div class="col-md-3">
              <label for="typeFilter" class="form-label">Type</label>
              <select class="form-select" id="typeFilter">
                <option value="">All Types</option>
                <option value="donor">Donor Listings</option>
                <option value="recipient">Recipient Requests</option>
                <option value="inventory">Inventory Items</option>
              </select>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-12">
              <button class="btn btn-primary" onclick="runSmartMatching()">
                <i class="bi bi-cpu me-2"></i>Run Smart Matching
              </button>
              <button class="btn btn-outline-secondary ms-2" onclick="clearFilters()">
                <i class="bi bi-arrow-clockwise me-2"></i>Clear Filters
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Matching Results -->
      <div class="row g-4">
        <!-- Donor Listings -->
        <div class="col-lg-6">
          <div class="card border-0 bg-dark h-100">
            <div class="card-header bg-dark border-bottom">
              <h5 class="mb-0">
                <i class="bi bi-gift me-2"></i>Available Donor Listings
              </h5>
            </div>
            <div class="card-body">
              <div class="list-group list-group-flush">
                <div class="list-group-item bg-dark border-secondary">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h6 class="mb-1">Fresh Produce Donation</h6>
                      <p class="mb-1 text-muted">50 lbs of mixed vegetables</p>
                      <small class="text-warning">Expires: Tomorrow</small>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-success mb-2">0.8 miles</span>
                      <br>
                      <button class="btn btn-sm btn-primary" onclick="claimDonation(1)">
                        <i class="bi bi-download me-1"></i>Claim
                      </button>
                    </div>
                  </div>
                </div>
                <div class="list-group-item bg-dark border-secondary">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h6 class="mb-1">Canned Goods Collection</h6>
                      <p class="mb-1 text-muted">100 cans of various items</p>
                      <small class="text-success">Long shelf life</small>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-info mb-2">2.1 miles</span>
                      <br>
                      <button class="btn btn-sm btn-primary" onclick="claimDonation(2)">
                        <i class="bi bi-download me-1"></i>Claim
                      </button>
                    </div>
                  </div>
                </div>
                <div class="list-group-item bg-dark border-secondary">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h6 class="mb-1">Bakery Items</h6>
                      <p class="mb-1 text-muted">30 loaves of bread</p>
                      <small class="text-warning">Expires: Today</small>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-warning mb-2">1.5 miles</span>
                      <br>
                      <button class="btn btn-sm btn-primary" onclick="claimDonation(3)">
                        <i class="bi bi-download me-1"></i>Claim
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Recipient Requests -->
        <div class="col-lg-6">
          <div class="card border-0 bg-dark h-100">
            <div class="card-header bg-dark border-bottom">
              <h5 class="mb-0">
                <i class="bi bi-people me-2"></i>Recipient Requests
              </h5>
            </div>
            <div class="card-body">
              <div class="list-group list-group-flush">
                <div class="list-group-item bg-dark border-secondary">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h6 class="mb-1">Family of 4 - Fresh Food</h6>
                      <p class="mb-1 text-muted">Need: Vegetables, fruits, dairy</p>
                      <small class="text-info">Individual Recipient</small>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-success mb-2">0.5 miles</span>
                      <br>
                      <button class="btn btn-sm btn-success" onclick="fulfillRequest(1)">
                        <i class="bi bi-check-circle me-1"></i>Fulfill
                      </button>
                    </div>
                  </div>
                </div>
                <div class="list-group-item bg-dark border-secondary">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h6 class="mb-1">Community Center - Bulk Items</h6>
                      <p class="mb-1 text-muted">Need: Non-perishables for distribution</p>
                      <small class="text-info">Organization</small>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-info mb-2">1.2 miles</span>
                      <br>
                      <button class="btn btn-sm btn-success" onclick="fulfillRequest(2)">
                        <i class="bi bi-check-circle me-1"></i>Fulfill
                      </button>
                    </div>
                  </div>
                </div>
                <div class="list-group-item bg-dark border-secondary">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h6 class="mb-1">Senior Center - Special Diet</h6>
                      <p class="mb-1 text-muted">Need: Low-sodium, diabetic-friendly items</p>
                      <small class="text-info">Organization</small>
                    </div>
                    <div class="text-end">
                      <span class="badge bg-warning mb-2">2.8 miles</span>
                      <br>
                      <button class="btn btn-sm btn-success" onclick="fulfillRequest(3)">
                        <i class="bi bi-check-circle me-1"></i>Fulfill
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- AI Suggestions -->
      <div class="row mt-4">
        <div class="col-12">
          <div class="card border-0 bg-dark">
            <div class="card-header bg-dark border-bottom">
              <h5 class="mb-0">
                <i class="bi bi-robot me-2"></i>AI Optimization Suggestions
              </h5>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-4">
                  <div class="card border-0 bg-dark glow-effect">
                    <div class="card-body text-center p-3">
                      <i class="bi bi-lightning text-warning fs-3 mb-2"></i>
                      <h6 class="card-title">Priority Match</h6>
                      <p class="card-text small text-muted">Fresh Produce Donation → Family of 4</p>
                      <button class="btn btn-sm btn-warning" onclick="executeSuggestion(1)">
                        <i class="bi bi-arrow-right me-1"></i>Execute
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card border-0 bg-dark glow-effect">
                    <div class="card-body text-center p-3">
                      <i class="bi bi-graph-up text-success fs-3 mb-2"></i>
                      <h6 class="card-title">Efficiency Boost</h6>
                      <p class="card-text small text-muted">Combine 3 nearby pickups</p>
                      <button class="btn btn-sm btn-success" onclick="executeSuggestion(2)">
                        <i class="bi bi-arrow-right me-1"></i>Execute
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card border-0 bg-dark glow-effect">
                    <div class="card-body text-center p-3">
                      <i class="bi bi-shield-check text-info fs-3 mb-2"></i>
                      <h6 class="card-title">Risk Mitigation</h6>
                      <p class="card-text small text-muted">Backup plan for expiring items</p>
                      <button class="btn btn-sm btn-info" onclick="executeSuggestion(3)">
                        <i class="bi bi-arrow-right me-1"></i>Execute
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- Custom JS -->
    <script src="./Resources/Scripts/main.js"></script>
    <script>
      // Smart matching functionality
      document.addEventListener('DOMContentLoaded', function() {
        loadMatchingData();
      });

      function loadMatchingData() {
        // Load matching data (in real app, this would come from backend)
        console.log('Loading smart matching data...');
      }

      function runSmartMatching() {
        const category = document.getElementById('categoryFilter').value;
        const distance = document.getElementById('distanceFilter').value;
        const urgency = document.getElementById('urgencyFilter').value;
        const type = document.getElementById('typeFilter').value;

        // Run AI matching algorithm (in real app, this would call backend)
        showAlert('Running smart matching algorithm...', 'info');
        
        setTimeout(() => {
          showAlert('Smart matching completed! Found 6 optimal matches.', 'success');
          loadMatchingData();
        }, 2000);
      }

      function clearFilters() {
        document.getElementById('categoryFilter').value = '';
        document.getElementById('distanceFilter').value = '10';
        document.getElementById('urgencyFilter').value = '';
        document.getElementById('typeFilter').value = '';
        loadMatchingData();
      }

      function claimDonation(donationId) {
        showAlert('Donation claimed successfully! Communication channel opened.', 'success');
        // In real app, this would open communication hub
      }

      function fulfillRequest(requestId) {
        showAlert('Request fulfilled! Communication channel opened.', 'success');
        // In real app, this would open communication hub
      }

      function executeSuggestion(suggestionId) {
        showAlert('AI suggestion executed! Optimizing resource flow...', 'success');
        // In real app, this would execute the AI suggestion
      }

      function showAlert(message, type) {
        const alertDiv = document.createElement('div');
        alertDiv.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
        alertDiv.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
        alertDiv.innerHTML = `
          ${message}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;
        document.body.appendChild(alertDiv);

        // Auto-remove after 5 seconds
        setTimeout(() => {
          if (alertDiv.parentNode) {
            alertDiv.remove();
          }
        }, 5000);
      }
    </script>
  </body>
</html>
